
#include <mega32.h>
#include <delay.h>

const unsigned char Code[]=
{    0x7F,    //    001F        . # # # # # # # 
    0x09,    //    0020        . . . . # . . # 
    0x09,    //    0021        . . . . # . . # 
    0x09,    //    0022        . . . . # . . # 
	0x01,	//	0023		. . . . . . . # 
	0x00,	//	0024		. . . . . . . .
0x7F,    //    0019        . # # # # # # # 
    0x49,    //    001A        . # . . # . . # 
    0x49,    //    001B        . # . . # . . # 
    0x49,    //    001C        . # . . # . . # 
	0x49,	//	001D		. # . . # . . # 
	0x00,	//	001E		. . . . . . . .
0x7F,    //    0013        . # # # # # # # 
    0x41,    //    0014        . # . . . . . # 
    0x41,    //    0015        . # . . . . . # 
    0x22,    //    0016        . . # . . . # . 
	0x1C,	//	0017		. . . # # # . . 
	0x00,	//	0018		. . . . . . . .
0b00111110,    //    000D        . # # # # # # # 
    0x41,    //    000E        . # . . . . . # 
    0x41,    //    000F        . # . . . . . # 
    0x41,    //    0010        . # . . . . . # 
	0x41,	//	0011		. # . . . . . # 
	0x00,	//	0012		. . . . . . . . 
0x7F,    //    0007        . # # # # # # # 
    0x49,    //    0008        . # . . # . . # 
    0x49,    //    0009        . # . . # . . # 
    0x49,    //    000A        . # . . # . . # 
	0x36,	//	000B		. . # # . # # . 
	0x00,	//	000C		. . . . . . . . 
	0x7C,	//	0001		. # # # # # . . 
	0x0A,	//	0002		. . . . # . # . 
	0x09,	//	0003		. . . . # . . # 
	0x0A,	//	0004		. . . . # . # . 
	0x7C,	//	0005		. # # # # # . . 
	0x00,	//	0006		. . . . . . . . 0x00,	//	0006		. . . . . . . . 0x00,	//	0006		. . . . . . . . 
	
	
	 
	 
	 
	};

const unsigned char which []={1,2,4,8,16,32,64,128};

void main(void)
{
// Declare your local variables here
unsigned char Col,Scan,Row,i=0,j,MOD=sizeof(Code)/sizeof(char);
DDRC=0xFF;
DDRB=0xFF;
DDRD=0xFF;
while (1)
      {
          i=(i-1+MOD)%MOD;
              for (j=0;j<5;j++)
              for (Col=0;Col<8;Col++){
                  PORTD=which[Col];
                  PORTC=~Code[(i+Col)%MOD];
                  delay_ms(2);
                  PORTD=0;
                  PORTB=which[Col];
                  PORTC=~Code[(i+Col+8)%MOD];
                  delay_ms(2);
                  PORTB=0;
              }
          

      }
}
